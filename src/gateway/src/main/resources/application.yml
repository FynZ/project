server:
  port: 80

spring:
  application:
    name: gateway

zuul:
  sensitiveHeaders: Cookie,Set-Cookie
  routes:
    # ALLOW ANONYMOUS
    news:
      path: /news/**
      serviceId: news
      strip-prefix: false
    #   url: http://pm-news:80/news
    ressources:
      path: /ressources/**
      serviceId: resources
      strip-prefix: false
    #   url: http://pm-ressources:80/ressources
    auth:
      path: /auth/**
      serviceId: accounts
      strip-prefix: false
    #   url: http://pm-accounts:80/auth
    # ROLE USER
    monsters:
      path: /monsters/**
      serviceId: monsters
      strip-prefix: false
    #   url: http://pm-monsters:80/monsters
    trading:
      path: /trading/**
      serviceId: trading
      strip-prefix: false
    #   url: http://pm-trading:80/trading
    marketplace:
      path: /messaging/**
      serviceId: marketplace
      strip-prefix: false
    #   url: http://pm-messages:80/marketplace
    map:
      path: /messaging/**
      serviceId: map
      strip-prefix: false
    #   url: http://pm-messages:80/map
    messaging:
      path: /messaging/**
      serviceId: messaging
      strip-prefix: false
    #   url: http://pm-messages:80/messaging
    # ROLE ADMIN
    admin:
      path: /admin/**
      serviceId: admin
      strip-prefix: false
    #   url: http://pm-admin:80/admin

ribbon:
  eureka:
    enabled: true

eureka:
  client:
    serviceUrl:
      defaultZone: http://pm-eureka:80/eureka/
    registerWithEureka: false

# eureka:
#   instance:
#     prefer-ip-address: true
#   client:
#     register-with-eureka: true
#     fetch-registry:  true
#     service-url:
#       default-zones: ${EUREKA_URI:http://pm-eureka:80/eureka}

security:
  oauth2:
    resource:
      jwt:
        key-value: 123